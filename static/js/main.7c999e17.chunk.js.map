{"version":3,"sources":["utils/constants.js","utils/storage.js","providers/Auth/Auth.provider.jsx","components/List/VideoListStyled.js","components/List/VideoList.jsx","pages/Home/Home.page.jsx","pages/Login/Login.page.jsx","pages/NotFound/NotFound.page.jsx","pages/Secret/Secret.page.jsx","components/Private/Private.component.jsx","utils/fns.js","utils/hooks/useFortune.js","components/Fortune/Fortune.component.jsx","components/Layout/Layout.component.jsx","components/Header/Header.component.jsx","components/App/App.component.jsx","index.js"],"names":["AUTH_STORAGE_KEY","storage","key","rawValue","window","localStorage","getItem","JSON","parse","error","console","value","setItem","stringify","AuthContext","React","createContext","useAuth","context","useContext","Error","AuthProvider","children","useState","authenticated","setAuthenticated","useEffect","lastAuthState","isAuthenticated","Boolean","login","useCallback","logout","Provider","Styled","VideoListContainer","styled","div","VideoItemContainer","VideoInfo","props","src","video","snippet","thumbnails","default","url","alt","title","href","id","videoId","target","rel","VideoList","videoInfo","items","this","map","v4","Component","HomePage","history","useHistory","sectionRef","useRef","className","ref","to","onClick","event","preventDefault","push","LoginPage","onSubmit","htmlFor","required","type","NotFoundPage","SecretPage","width","height","allowFullScreen","frameBorder","allow","Private","rest","render","random","limit","Math","floor","API_URL","Fortune","fortune","setFortune","a","fetch","response","json","fortuneCookies","randomIndex","length","currentFortune","message","findMyFortune","useFortune","Layout","Header","AppBar","position","Toolbar","IconButton","Typography","InputBase","placeholder","App","useLayoutEffect","body","document","rotateBackground","xPercent","yPercent","style","setProperty","intervalId","setInterval","addEventListener","clearInterval","removeEventListener","exact","path","ReactDOM","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.7c999e17.chunk.js","sourcesContent":["const AUTH_STORAGE_KEY = 'wa_cert_authenticated';\n\nexport { AUTH_STORAGE_KEY };\n","const storage = {\n  get(key) {\n    try {\n      const rawValue = window.localStorage.getItem(key);\n      return JSON.parse(rawValue);\n    } catch (error) {\n      console.error(`Error parsing storage item \"${key}\".`);\n      return null;\n    }\n  },\n\n  set(key, value) {\n    window.localStorage.setItem(key, JSON.stringify(value));\n  },\n};\n\nexport { storage };\n","import React, { useState, useEffect, useContext, useCallback } from 'react';\n\nimport { AUTH_STORAGE_KEY } from '../../utils/constants';\nimport { storage } from '../../utils/storage';\n\nconst AuthContext = React.createContext(null);\n\nfunction useAuth() {\n  const context = useContext(AuthContext);\n  if (!context) {\n    throw new Error(`Can't use \"useAuth\" without an AuthProvider!`);\n  }\n  return context;\n}\n\nfunction AuthProvider({ children }) {\n  const [authenticated, setAuthenticated] = useState(false);\n\n  useEffect(() => {\n    const lastAuthState = storage.get(AUTH_STORAGE_KEY);\n    const isAuthenticated = Boolean(lastAuthState);\n\n    setAuthenticated(isAuthenticated);\n  }, []);\n\n  const login = useCallback(() => {\n    setAuthenticated(true);\n    storage.set(AUTH_STORAGE_KEY, true);\n  }, []);\n\n  const logout = useCallback(() => {\n    setAuthenticated(false);\n    storage.set(AUTH_STORAGE_KEY, false);\n  }, []);\n\n  return (\n    <AuthContext.Provider value={{ login, logout, authenticated }}>\n      {children}\n    </AuthContext.Provider>\n  );\n}\n\nexport { useAuth };\nexport default AuthProvider;\n","import styled from 'styled-components';\n\nconst VideoListContainer = styled.div`\n  max-height: 200px;\n  margin: 20px auto;\n`;\n\nconst VideoItemContainer = styled.div`\n  border-bottom: 1px solid #ccc;\n  display: block;\n  border-collapse: collapse;\n  width: auto;\n  height: auto;\n\n  & > img {\n    width: 30%;\n    padding: 1em;\n\n    @media screen and (max-width: 1000px) {\n      display: none;\n    }\n  }\n\n  & > a {\n    text-transform: uppercase;\n\n    & > p {\n      :hover {\n        color: blueviolet;\n      }\n    }\n  }\n`;\n\nconst Styled = { VideoListContainer, VideoItemContainer };\nexport default Styled;\n","import React, { Component } from 'react';\nimport { v4 } from 'uuid';\nimport Styled from './VideoListStyled';\nimport { items } from '../../mock-data.json';\n\nclass VideoList extends Component {\n  constructor(props) {\n    super(props);\n    this.videoInfo = items;\n  }\n\n  render() {\n    return (\n      <Styled.VideoListContainer>\n        {this.videoInfo.map((video) => {\n          return <VideoInfo video={video} key={v4()} />;\n        })}\n      </Styled.VideoListContainer>\n    );\n  }\n}\n\nfunction VideoInfo(props) {\n  return (\n    <Styled.VideoItemContainer>\n      <img\n        src={props.video.snippet.thumbnails.default.url}\n        alt={props.video.snippet.title}\n      />\n      <a\n        href={`https://www.youtube.com/watch?v=${props.video.id.videoId}`}\n        target=\"_blank\"\n        rel=\"noreferrer\"\n      >\n        <p>{props.video.snippet.title}</p>\n      </a>\n    </Styled.VideoItemContainer>\n  );\n}\n\nexport default VideoList;\n","import React, { useRef } from 'react';\nimport { Link, useHistory } from 'react-router-dom';\nimport VideoList from '../../components/List/VideoList';\n\nimport { useAuth } from '../../providers/Auth';\nimport './Home.styles.css';\n\nfunction HomePage() {\n  const history = useHistory();\n  const sectionRef = useRef(null);\n  const { authenticated, logout } = useAuth();\n\n  function deAuthenticate(event) {\n    event.preventDefault();\n    logout();\n    history.push('/');\n  }\n\n  return (\n    <section className=\"homepage\" ref={sectionRef}>\n      <h1>Hello stranger!</h1>\n      {authenticated ? (\n        <>\n          <p>Good to have you back</p>\n          <span>\n            <Link to=\"/\" onClick={deAuthenticate}>\n              ← logout\n            </Link>\n            <span className=\"separator\" />\n            <Link to=\"/secret\">show me something cool →</Link>\n          </span>\n          <VideoList />\n        </>\n      ) : (\n        <Link to=\"/login\">let me in →</Link>\n      )}\n    </section>\n  );\n}\n\nexport default HomePage;\n","import React from 'react';\nimport { useHistory } from 'react-router';\n\nimport { useAuth } from '../../providers/Auth';\nimport './Login.styles.css';\n\nfunction LoginPage() {\n  const { login } = useAuth();\n  const history = useHistory();\n\n  function authenticate(event) {\n    event.preventDefault();\n    login();\n    history.push('/secret');\n  }\n\n  return (\n    <section className=\"login\">\n      <h1>Welcome back!</h1>\n      <form onSubmit={authenticate} className=\"login-form\">\n        <div className=\"form-group\">\n          <label htmlFor=\"username\">\n            <strong>username </strong>\n            <input required type=\"text\" id=\"username\" />\n          </label>\n        </div>\n        <div className=\"form-group\">\n          <label htmlFor=\"password\">\n            <strong>password </strong>\n            <input required type=\"password\" id=\"password\" />\n          </label>\n        </div>\n        <button type=\"submit\">login</button>\n      </form>\n    </section>\n  );\n}\n\nexport default LoginPage;\n","import React from 'react';\nimport { Link } from 'react-router-dom';\n\nimport './NotFound.styles.css';\n\nfunction NotFoundPage() {\n  return (\n    <section className=\"not-found\">\n      <Link to=\"/\" className=\"home-link\">\n        home\n      </Link>\n      <img src=\"404.gif\" alt=\"page not found\" />\n    </section>\n  );\n}\n\nexport default NotFoundPage;\n","import React from 'react';\nimport { Link } from 'react-router-dom';\n\nfunction SecretPage() {\n  return (\n    <section>\n      <pre>\n        welcome, voyager...\n        <Link to=\"/\"> ← go back</Link>\n      </pre>\n      <iframe\n        width=\"800\"\n        height=\"450\"\n        allowFullScreen\n        frameBorder=\"0\"\n        title=\"rick roll\"\n        src=\"https://www.youtube.com/embed/dQw4w9WgXcQ?controls=0&autoplay=1\"\n        allow=\"accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture\"\n      />\n    </section>\n  );\n}\n\nexport default SecretPage;\n","import React from 'react';\nimport { Route, Redirect } from 'react-router-dom';\n\nimport { useAuth } from '../../providers/Auth';\n\nfunction Private({ children, ...rest }) {\n  const { authenticated } = useAuth();\n\n  return (\n    <Route {...rest} render={() => (authenticated ? children : <Redirect to=\"/\" />)} />\n  );\n}\n\nexport default Private;\n","function random(limit) {\n  return Math.floor(Math.random() * limit);\n}\n\nexport { random };\n","import { useState, useEffect } from 'react';\n\nimport { random } from '../fns';\n\nconst API_URL = 'http://fortunecookieapi.herokuapp.com/v1/fortunes?limit=10';\n\nfunction useFortune() {\n  const [fortune, setFortune] = useState(null);\n\n  useEffect(() => {\n    async function findMyFortune() {\n      try {\n        const response = await fetch(API_URL);\n        const fortuneCookies = await response.json();\n\n        const randomIndex = random(fortuneCookies.length);\n        const currentFortune = fortuneCookies[randomIndex];\n\n        setFortune(currentFortune.message);\n      } catch (error) {\n        console.error('Bad fortune: ', error);\n      }\n    }\n\n    findMyFortune();\n  }, []);\n\n  return { fortune };\n}\n\nexport { useFortune };\n","import React from 'react';\n\nimport { useFortune } from '../../utils/hooks/useFortune';\nimport './Fortune.styles.css';\n\nfunction Fortune() {\n  const { fortune } = useFortune();\n\n  return <span className=\"fortune\">{fortune} </span>;\n}\n\nexport default Fortune;\n","import React from 'react';\n\nimport './Layout.styles.css';\n\nfunction Layout({ children }) {\n  return <main className=\"container\">{children}</main>;\n}\n\nexport default Layout;\n","import React from 'react';\nimport AppBar from '@material-ui/core/AppBar';\nimport Toolbar from '@material-ui/core/Toolbar';\nimport Typography from '@material-ui/core/Typography';\nimport InputBase from '@material-ui/core/InputBase';\nimport SearchIcon from '@material-ui/icons/Search';\nimport AccountCircle from '@material-ui/icons/AccountCircle';\nimport IconButton from '@material-ui/core/IconButton';\nimport MenuIcon from '@material-ui/icons/Menu';\n\nimport './Header.styles.css';\n\nfunction Header() {\n  return (\n    <div className=\"header\">\n      <AppBar position=\"static\">\n        <Toolbar>\n          <IconButton className=\"menu-button\">\n            <MenuIcon />\n          </IconButton>\n          <Typography className=\"title\">Sag challenge!</Typography>\n          <div className=\"search\">\n            <SearchIcon className=\"search-icon\" />\n            <InputBase placeholder=\"Search…\" />\n          </div>\n          <AccountCircle />\n        </Toolbar>\n      </AppBar>\n    </div>\n  );\n}\n\nexport default Header;\n","import React, { useLayoutEffect } from 'react';\nimport { BrowserRouter, Switch, Route } from 'react-router-dom';\n\nimport AuthProvider from '../../providers/Auth';\nimport HomePage from '../../pages/Home';\nimport LoginPage from '../../pages/Login';\nimport NotFound from '../../pages/NotFound';\nimport SecretPage from '../../pages/Secret';\nimport Private from '../Private';\nimport Fortune from '../Fortune';\nimport Layout from '../Layout';\nimport { random } from '../../utils/fns';\nimport Header from '../Header';\n\nfunction App() {\n  useLayoutEffect(() => {\n    const { body } = document;\n\n    function rotateBackground() {\n      const xPercent = random(100);\n      const yPercent = random(100);\n      body.style.setProperty('--bg-position', `${xPercent}% ${yPercent}%`);\n    }\n\n    const intervalId = setInterval(rotateBackground, 3000);\n    body.addEventListener('click', rotateBackground);\n\n    return () => {\n      clearInterval(intervalId);\n      body.removeEventListener('click', rotateBackground);\n    };\n  }, []);\n\n  return (\n    <BrowserRouter>\n      <AuthProvider>\n        <Header />\n        <Layout>\n          <Switch>\n            <Route exact path=\"/react-certification-2021/\">\n              <HomePage />\n            </Route>\n            <Route exact path=\"/login\">\n              <LoginPage />\n            </Route>\n            <Private exact path=\"/secret\">\n              <SecretPage />\n            </Private>\n            <Route path=\"*\">\n              <NotFound />\n            </Route>\n          </Switch>\n          <Fortune />\n        </Layout>\n      </AuthProvider>\n    </BrowserRouter>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\n\nimport App from './components/App';\nimport './global.css';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}